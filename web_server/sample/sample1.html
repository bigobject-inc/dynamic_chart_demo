<!DOCTYPE HTML>
<html>
    <head>
	<!-- load webix from webix cdn, internet connection required
	    <link rel="stylesheet" href="http://cdn.webix.com/edge/webix.css" type="text/css"> 
	    <script src="http://cdn.webix.com/edge/webix.js" type="text/javascript"></script>  
	-->
	
	<!-- load from local file -->
	    <link rel="stylesheet" href="./webix/codebase/webix.css" type="text/css"> 
	    <script src="./webix/codebase/webix.js" type="text/javascript"></script>  
	<!-- load faye client from the local websocket server -->
	    <script type="text/javascript" src="http://127.0.0.1:8000/faye/client.js"></script>
    </head>

  <body>
	<div id="chartDiv" style="width:90%;height:600px;margin:20px;align=center;"></div>
	<script>
	// init faye server
	webix.proxy.faye.client = new Faye.Client('http://127.0.0.1:8000/faye');
	webix.proxy.faye.clientId = webix.uid();

	//set line color
	var chart1_color=["#1293f8","#f89312"];
	var chart2_color=["#1212f8","#f89312"];
	var chart3_color=["#9312f8","#439312"];
	var chart4_color=["#129328","#f83312"];

	//main ui
	webix.ui(
	{
	
	container:"chartDiv",	
	rows:[
		//title row
		{view: "template",template:"<div style='width:300px;text-align:left'> title </div>",height:30},
		{
		cols:[
		//chart 1
		{
			id: "chart1",
			view:"chart",
			type:"spline",
			cellWidth: 70,
			xAxis:{template:"<small>#chart1_time#</small>"},
			yAxis:{start:0,end:100,step:10,},

			dynamic: true,
			animateDuration: 10 ,
			url:  "faye->/data", 
			save: "faye->/data",
			legend:{
				// change legend name here
		                values:[{text:"data1",color:chart1_color[0]},{text:"data2",color:chart1_color[1]}],
		                align:"right",
		                valign:"middle",
		                layout:"y",
		                width: 150,
		                margin: 8
			},
			//data 
		 	series:[
				{
					value:"#chart1_d1#",
        		        	item:{borderColor: chart1_color[0],color: "#ffffff"},
			                line:{color:chart1_color[0],width:2},

				},
				{
					value:"#chart1_d2#",
        		        	item:{borderColor: chart1_color[1],color: "#ffffff"},
			                line:{color:chart1_color[1],width:2},

				}

        	    	       ],
			datatype:"json",
		},
		{view:"resizer"},
		//chart 2
		{
			id: "chart2",
			view:"chart",
			type:"spline",
			cellWidth: 70,
			xAxis:{template:"<small>#chart2_time#</small>"},
			yAxis:{start:0,end:100,step:10,},
			dynamic: true,
			animateDuration: 10 ,
			url:  "faye->/data", 
			save: "faye->/data",
			legend:{
		                values:[{text:"data1",color:chart2_color[0]},{text:"data2",color:chart2_color[1]}],
		                align:"right",
		                valign:"middle",
		                layout:"y",
		                width: 150,
		                margin: 8
			},
		 	series:[
				{
					value:"#chart2_d1#",
		                	item:{borderColor: chart2_color[0],color: "#ffffff"},
			                line:{color:chart2_color[0],width:2},
				},
				{
					value:"#chart2_d2#",
	        	        	item:{borderColor: chart2_color[1],color: "#ffffff"},
			                line:{color:chart2_color[1],width:2},
				}

	            	       ],
			datatype:"json",
	        }

		]// end of 1st row's columns
		}
		,
		{view:"resizer"},
		//2rd row
		{
		cols:
		[
			//chart 3
			{
				id: "chart3",
				view:"chart",
				type:"spline",
				cellWidth: 70,
				xAxis:{template:"<small>#chart3_time#</small>"},
				yAxis:{start:0,end:100,step:10,},
				dynamic: true,
				animateDuration: 10 ,
				url:  "faye->/data", 
				save: "faye->/data",
				legend:{
					// change legend name here
				        values:[{text:"data1",color:chart3_color[0]},{text:"data2",color:chart3_color[1]}],
				        align:"right",
				        valign:"middle",
				        layout:"y",
				        width: 150,
				        margin: 8
				},
			 	series:[
					{
						value:"#chart3_d1#",
				        	item:{borderColor: chart3_color[0],color: "#ffffff"},
					        line:{color:chart3_color[0],width:2},
					},
					{
						value:"#chart3_d2#",
				        	item:{borderColor: chart3_color[1],color: "#ffffff"},
					        line:{color:chart3_color[1],width:2},
					}
	
			    	       ],
				datatype:"json",
			},
			{view:"resizer"},
			//chart 4
			{
				id: "chart4",
				view:"chart",
				type:"spline",
				cellWidth: 70,
				xAxis:{template:"<small>#chart4_time#</small>"},
				yAxis:{start:0,end:100,step:10,},
				dynamic: true,
				animateDuration: 10 ,
				url:  "faye->/data", 
				save: "faye->/data",
				legend:{
					// change legend name here
				        values:[{text:"data1",color:chart4_color[0]},{text:"data2",color:chart4_color[1]}],
				        align:"right",
				        valign:"middle",
				        layout:"y",
				        width: 150,
				        margin: 8
				},
			 	series:[
					{
						value:"#chart4_d1#",
				        	item:{borderColor: chart4_color[0],color: "#ffffff"},
					        line:{color:chart4_color[0],width:2},
					},
					{
						value:"#chart4_d2#",
				        	item:{borderColor: chart4_color[1],color: "#ffffff"},
					        line:{color:chart4_color[1],width:2},
					}
			    	       ],
				datatype:"json",
			},

		] //end of cols
		}
            ]//end of rows
        }
	); //webix.ui


    
 	</script>

  </body>
</html>
